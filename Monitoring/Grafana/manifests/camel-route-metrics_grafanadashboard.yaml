kind: GrafanaDashboard
apiVersion: grafana.integreatly.org/v1beta1
metadata:
    name: camel-route-metrics
spec:
    datasources:
        - inputName: DS_PROMETHEUS
          datasourceName: Prometheus
    instanceSelector:
        matchLabels:
            dashboards: camel-grafana
    json: |
        {
            "annotations": {
                "list": [
                    {
                        "builtIn": 1,
                        "datasource": {
                            "type": "datasource",
                            "uid": "grafana"
                        },
                        "enable": true,
                        "hide": true,
                        "iconColor": "rgba(0, 211, 255, 1)",
                        "name": "Annotations & Alerts",
                        "type": "dashboard"
                    }
                ]
            },
            "description": "Default dashboard for Fuse",
            "editable": true,
            "fiscalYearStartMonth": 0,
            "graphTooltip": 0,
            "id": 7,
            "links": [],
            "panels": [
                {
                    "collapsed": false,
                    "datasource": "Prometheus",
                    "gridPos": {
                        "h": 1,
                        "w": 24,
                        "x": 0,
                        "y": 0
                    },
                    "id": 24,
                    "panels": [],
                    "repeat": "routeId",
                    "repeatDirection": "h",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "refId": "A"
                        }
                    ],
                    "title": "Route ($routeId)",
                    "type": "row"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 0,
                        "y": 1
                    },
                    "id": 30,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "disableTextWrap": false,
                            "editorMode": "code",
                            "expr": "rate(application_camel_route_exchanges_total{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}[5m])",
                            "format": "time_series",
                            "fullMetaSearch": false,
                            "includeNullMetadata": true,
                            "intervalFactor": 1,
                            "range": true,
                            "refId": "A",
                            "useBackend": false
                        }
                    ],
                    "title": "Exchanges per second",
                    "type": "stat"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            }
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 4,
                        "y": 1
                    },
                    "id": 28,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "sum(application_camel_route_exchanges_inflight_count{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"})",
                            "format": "time_series",
                            "instant": true,
                            "intervalFactor": 1,
                            "refId": "A"
                        }
                    ],
                    "title": "Exchanges inflight",
                    "type": "stat"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "max": 100,
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "#EAB839",
                                        "value": 50
                                    },
                                    {
                                        "color": "red",
                                        "value": 70
                                    }
                                ]
                            },
                            "unit": "percentunit"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 8,
                        "y": 1
                    },
                    "id": 6,
                    "maxDataPoints": 100,
                    "options": {
                        "minVizHeight": 75,
                        "minVizWidth": 75,
                        "orientation": "horizontal",
                        "reduceOptions": {
                            "calcs": [
                                "mean"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showThresholdLabels": false,
                        "showThresholdMarkers": true,
                        "sizing": "auto"
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "(sum(application_camel_route_exchanges_failed_total{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"})*100) / sum(application_camel_route_exchanges_total{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"})",
                            "format": "time_series",
                            "instant": false,
                            "intervalFactor": 1,
                            "legendFormat": "",
                            "refId": "A"
                        }
                    ],
                    "title": "Exchanges failure rate",
                    "type": "gauge"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 12,
                        "y": 1
                    },
                    "id": 32,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "application_camel_route_processing_min_seconds{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Min processing time",
                    "type": "stat"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 16,
                        "y": 1
                    },
                    "id": 53,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "application_camel_route_processing_mean_seconds{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Mean processing time",
                    "type": "stat"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "thresholds"
                            },
                            "mappings": [
                                {
                                    "options": {
                                        "match": "null",
                                        "result": {
                                            "text": "N/A"
                                        }
                                    },
                                    "type": "special"
                                }
                            ],
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 4,
                        "x": 20,
                        "y": 1
                    },
                    "id": 54,
                    "maxDataPoints": 100,
                    "options": {
                        "colorMode": "none",
                        "graphMode": "none",
                        "justifyMode": "auto",
                        "orientation": "horizontal",
                        "reduceOptions": {
                            "calcs": [
                                "lastNotNull"
                            ],
                            "fields": "",
                            "values": false
                        },
                        "showPercentChange": false,
                        "textMode": "auto",
                        "wideLayout": true
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "application_camel_route_processing_max_seconds{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Max processing time",
                    "type": "stat"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "normal"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 0,
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 0,
                        "y": 6
                    },
                    "id": 2,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "rate(application_camel_route_exchanges_failed_total{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}[5m])",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "Failed",
                            "range": true,
                            "refId": "B"
                        },
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "rate(application_camel_route_exchanges_completed_total{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}[5m])",
                            "format": "time_series",
                            "hide": false,
                            "instant": false,
                            "interval": "",
                            "intervalFactor": 1,
                            "legendFormat": "Completed",
                            "refId": "A"
                        }
                    ],
                    "title": "Exchanges per second",
                    "type": "timeseries"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "bars",
                                "fillOpacity": 100,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 0,
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 12,
                        "y": 6
                    },
                    "id": 26,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": false
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "disableTextWrap": false,
                            "editorMode": "code",
                            "expr": "sum(application_camel_route_exchanges_inflight_count{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"})",
                            "format": "time_series",
                            "fullMetaSearch": false,
                            "includeNullMetadata": true,
                            "intervalFactor": 1,
                            "legendFormat": "Exchanges inflight",
                            "range": true,
                            "refId": "A",
                            "useBackend": false
                        }
                    ],
                    "title": "Exchanges inflight",
                    "type": "timeseries"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 0,
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "s"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 0,
                        "y": 11
                    },
                    "id": 20,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": true
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "application_camel_route_processing_max_seconds{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "Max",
                            "range": true,
                            "refId": "A"
                        },
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "exemplar": false,
                            "expr": "application_camel_route_processing_mean_seconds{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}",
                            "format": "time_series",
                            "instant": false,
                            "intervalFactor": 1,
                            "legendFormat": "Mean",
                            "range": true,
                            "refId": "B"
                        },
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "application_camel_route_processing_min_seconds{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "legendFormat": "Min",
                            "range": true,
                            "refId": "C"
                        }
                    ],
                    "title": "Processing time",
                    "type": "timeseries"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 0,
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 12,
                        "y": 11
                    },
                    "id": 18,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": false
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "rate(application_camel_route_failuresHandled_total{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}[5m])",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "Failures handled per second",
                    "type": "timeseries"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 0,
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 0,
                        "y": 16
                    },
                    "id": 55,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": false
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "disableTextWrap": false,
                            "editorMode": "code",
                            "expr": "rate(application_camel_route_exchanges_failed_total{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}[5m])",
                            "format": "time_series",
                            "fullMetaSearch": false,
                            "includeNullMetadata": true,
                            "intervalFactor": 1,
                            "range": true,
                            "refId": "A",
                            "useBackend": false
                        }
                    ],
                    "title": "Exchanged Failed per second",
                    "type": "timeseries"
                },
                {
                    "datasource": "Prometheus",
                    "fieldConfig": {
                        "defaults": {
                            "color": {
                                "mode": "palette-classic"
                            },
                            "custom": {
                                "axisBorderShow": false,
                                "axisCenteredZero": false,
                                "axisColorMode": "text",
                                "axisLabel": "",
                                "axisPlacement": "auto",
                                "barAlignment": 0,
                                "drawStyle": "line",
                                "fillOpacity": 10,
                                "gradientMode": "none",
                                "hideFrom": {
                                    "legend": false,
                                    "tooltip": false,
                                    "viz": false
                                },
                                "insertNulls": false,
                                "lineInterpolation": "linear",
                                "lineWidth": 1,
                                "pointSize": 5,
                                "scaleDistribution": {
                                    "type": "linear"
                                },
                                "showPoints": "never",
                                "spanNulls": false,
                                "stacking": {
                                    "group": "A",
                                    "mode": "none"
                                },
                                "thresholdsStyle": {
                                    "mode": "off"
                                }
                            },
                            "decimals": 0,
                            "mappings": [],
                            "min": 0,
                            "thresholds": {
                                "mode": "absolute",
                                "steps": [
                                    {
                                        "color": "green",
                                        "value": null
                                    },
                                    {
                                        "color": "red",
                                        "value": 80
                                    }
                                ]
                            },
                            "unit": "short"
                        },
                        "overrides": []
                    },
                    "gridPos": {
                        "h": 5,
                        "w": 12,
                        "x": 12,
                        "y": 16
                    },
                    "id": 22,
                    "options": {
                        "legend": {
                            "calcs": [],
                            "displayMode": "list",
                            "placement": "bottom",
                            "showLegend": false
                        },
                        "tooltip": {
                            "mode": "multi",
                            "sort": "none"
                        }
                    },
                    "pluginVersion": "10.4.3",
                    "targets": [
                        {
                            "datasource": "Prometheus",
                            "editorMode": "code",
                            "expr": "rate(application_camel_route_externalRedeliveries_total{job=\"$job\", pod=\"$pod\", routeId=\"$routeId\"}[5m])",
                            "format": "time_series",
                            "intervalFactor": 1,
                            "range": true,
                            "refId": "A"
                        }
                    ],
                    "title": "External Redeliveries per second",
                    "type": "timeseries"
                }
            ],
            "refresh": "5s",
            "schemaVersion": 39,
            "tags": [
                "1.0"
            ],
            "templating": {
                "list": [
                    {
                        "current": {
                            "selected": false,
                            "text": "camel-k-integrations/postgresql-to-mqtt-and-file",
                            "value": "camel-k-integrations/postgresql-to-mqtt-and-file"
                        },
                        "datasource": "${DS_PROMETHEUS}",
                        "definition": "label_values(application_camel_context_exchanges_total,job)",
                        "hide": 0,
                        "includeAll": false,
                        "multi": false,
                        "name": "job",
                        "options": [],
                        "query": {
                            "qryType": 1,
                            "query": "label_values(application_camel_context_exchanges_total,job)",
                            "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "skipUrlSync": false,
                        "sort": 0,
                        "type": "query"
                    },
                    {
                        "current": {
                            "selected": false,
                            "text": "postgresql-to-mqtt-and-file-77597b4cd5-d9wj9",
                            "value": "postgresql-to-mqtt-and-file-77597b4cd5-d9wj9"
                        },
                        "datasource": "${DS_PROMETHEUS}",
                        "definition": "label_values(application_camel_route_exchanges_total{job=\"$job\"},pod)",
                        "hide": 0,
                        "includeAll": false,
                        "multi": false,
                        "name": "pod",
                        "options": [],
                        "query": {
                            "qryType": 1,
                            "query": "label_values(application_camel_route_exchanges_total{job=\"$job\"},pod)",
                            "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "skipUrlSync": false,
                        "sort": 0,
                        "type": "query"
                    },
                    {
                        "current": {
                            "selected": true,
                            "text": [
                                "publish-to-mqtt",
                                "sql-to-mqtt-and-file",
                                "write-to-file"
                            ],
                            "value": [
                                "publish-to-mqtt",
                                "sql-to-mqtt-and-file",
                                "write-to-file"
                            ]
                        },
                        "datasource": "${DS_PROMETHEUS}",
                        "definition": "label_values(application_camel_route_exchanges_total{job=\"$job\", pod=\"$pod\"},routeId)",
                        "hide": 0,
                        "includeAll": false,
                        "label": "",
                        "multi": true,
                        "name": "routeId",
                        "options": [],
                        "query": {
                            "qryType": 1,
                            "query": "label_values(application_camel_route_exchanges_total{job=\"$job\", pod=\"$pod\"},routeId)",
                            "refId": "PrometheusVariableQueryEditor-VariableQuery"
                        },
                        "refresh": 1,
                        "regex": "",
                        "skipUrlSync": false,
                        "sort": 0,
                        "type": "query"
                    }
                ]
            },
            "time": {
                "from": "now-30m",
                "to": "now"
            },
            "timepicker": {
                "refresh_intervals": [
                    "5s",
                    "10s",
                    "30s",
                    "1m",
                    "5m",
                    "15m",
                    "30m",
                    "1h",
                    "2h",
                    "1d"
                ],
                "time_options": [
                    "5m",
                    "15m",
                    "1h",
                    "6h",
                    "12h",
                    "24h",
                    "2d",
                    "7d",
                    "30d"
                ]
            },
            "timezone": "",
            "title": "Camel Route Metrics",
            "uid": "WDYFyHaik",
            "version": 3,
            "weekStart": ""
        }